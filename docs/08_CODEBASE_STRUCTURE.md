# Codebase Structure Documentation

This document provides a comprehensive breakdown of every folder and file in the BlotterSys codebase, including their purposes, functionality, and whether they are library-generated or custom implementations.

---

## Quick Reference: Generated vs Custom Files

| Category | Generated by Library | Custom Implementation |
|----------|---------------------|----------------------|
| **Config Files** | `next-env.d.ts`, `tsconfig.json` (scaffold), `postcss.config.mjs`, `tailwind.config.ts` (scaffold) | `next.config.ts`, `eslint.config.mjs`, `.env.local` |
| **Directories** | `node_modules/`, `.next/`, `.git/` | `app/`, `components/`, `lib/`, `utils/`, `types/`, `hooks/`, `constants/`, `public/`, `supabase/`, `docs/` |
| **Package Files** | `package-lock.json` | `package.json` (customized) |

---

## Project Root Structure

```
Final/
├── .env.local                 # Environment variables (custom)
├── .gemini/                   # AI assistant configuration
├── .git/                      # Git version control (generated)
├── .gitignore                 # Git ignore rules (custom)
├── .next/                     # Next.js build output (generated)
├── .railwayignore             # Railway deployment ignore (custom)
├── .trunk/                    # Trunk code quality tools
├── app/                       # Next.js App Router pages
├── components/                # Reusable React components
├── constants/                 # Application constants
├── docs/                      # Documentation files
├── hooks/                     # Custom React hooks
├── lib/                       # Core libraries
├── node_modules/              # NPM dependencies (generated)
├── public/                    # Static assets
├── supabase/                  # Database schema & migrations
├── types/                     # TypeScript type definitions
├── utils/                     # Utility functions
├── eslint.config.mjs          # ESLint configuration
├── next-env.d.ts              # Next.js TypeScript declarations
├── next.config.ts             # Next.js configuration
├── nixpacks.toml              # Railway build configuration
├── package-lock.json          # Dependency lock file (generated)
├── package.json               # Project dependencies
├── postcss.config.mjs         # PostCSS configuration
├── proxy.ts                   # Request proxy middleware
├── tailwind.config.ts         # Tailwind CSS configuration
└── tsconfig.json              # TypeScript configuration
```

---

## Root-Level Files

### Configuration Files

| File | Type | Purpose |
|------|------|---------|
| `.env.local` | Custom | Contains environment variables for Supabase connection, MailerSend API keys, and application URLs. **Never commit to version control.** |
| `.gitignore` | Custom | Specifies files/folders Git should ignore (node_modules, .next, .env.local, etc.) |
| `.railwayignore` | Custom | Specifies files to exclude from Railway deployment |
| `eslint.config.mjs` | Custom | ESLint rules configuration for code quality enforcement |
| `next.config.ts` | Custom | Next.js configuration including image domains, redirects, and experimental features |
| `next-env.d.ts` | Generated | Next.js TypeScript declarations. **Do not edit** - auto-generated by Next.js |
| `nixpacks.toml` | Custom | Railway/Nixpacks build configuration for deployment |
| `package.json` | Custom | NPM package manifest defining dependencies and scripts |
| `package-lock.json` | Generated | Locked dependency versions. **Auto-generated by npm** |
| `postcss.config.mjs` | Scaffold | PostCSS configuration for Tailwind CSS processing |
| `tailwind.config.ts` | Custom | Tailwind CSS theme customization and design tokens |
| `tsconfig.json` | Scaffold/Custom | TypeScript compiler configuration with custom path aliases |

### Utility Scripts

| File | Type | Purpose |
|------|------|---------|
| `check-buckets.js` | Custom | Script to verify Supabase storage buckets exist |
| `check-env.ts` | Custom | Validates required environment variables are set |
| `cleanup.py` | Custom | Python script for cleaning up temporary files |
| `create-buckets.js` | Custom | Script to create required Supabase storage buckets |
| `proxy.ts` | Custom | Request proxy middleware for handling specific routes |

### Documentation Files (Root)

| File | Type | Purpose |
|------|------|---------|
| `README.md` | Custom | Main project documentation with setup instructions, features, and diagrams |
| `COMPLETED_IMPLEMENTATION.md` | Custom | Tracks completed features and implementation status |
| `RAILWAY_DEPLOYMENT.md` | Custom | Deployment guide for Railway platform |
| `SORTING_IMPLEMENTATION.md` | Custom | Documentation for table sorting functionality |

---

## `/app` Directory (Next.js App Router)

The `app/` directory follows Next.js 14+ App Router conventions. Each folder represents a route segment, and special files like `page.tsx`, `layout.tsx`, and `loading.tsx` have reserved meanings.

### Root App Files

```
app/
├── globals.css        # Global CSS styles and Tailwind imports
├── icon.png           # Application favicon/icon
├── layout.tsx         # Root layout wrapper (HTML, providers)
├── not-found.tsx      # Custom 404 error page
└── page.tsx           # Landing/Home page component
```

| File | Type | Purpose |
|------|------|---------|
| `globals.css` | Custom | Global styles, CSS variables, and Tailwind base imports |
| `icon.png` | Custom | Application icon displayed in browser tabs |
| `layout.tsx` | Custom | Root layout with HTML structure, metadata, font loading, and toast provider |
| `not-found.tsx` | Custom | Custom 404 page shown when routes don't exist |
| `page.tsx` | Custom | Landing page with hero section, features, and call-to-action |

---

### `/app/api` - API Routes

```
app/api/
└── documents/
    └── download/
        └── route.ts    # Document download API endpoint
```

| File | Type | Purpose |
|------|------|---------|
| `route.ts` | Custom | Handles document generation and download (PDF creation via Puppeteer for legal documents like summons, referrals, certificates) |

---

### `/app/auth` - Authentication Callbacks

```
app/auth/
└── callback/
    └── route.ts        # Supabase auth callback handler
```

| File | Type | Purpose |
|------|------|---------|
| `route.ts` | Custom | Handles Supabase authentication callbacks (OAuth redirects, email confirmations, password resets). Exchanges auth codes for sessions. |

---

### `/app/login` - Login Page

```
app/login/
├── actions.ts          # Server actions for login
├── login-form.tsx      # Login form component
└── page.tsx            # Login page
```

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server actions for email/password authentication via Supabase |
| `login-form.tsx` | Custom | Client component with email/password inputs, validation, and error handling |
| `page.tsx` | Custom | Login page layout with branding and form container |

---

### `/app/forgot-password` - Password Recovery

```
app/forgot-password/
├── actions.ts          # Server action for password reset email
└── page.tsx            # Forgot password form page
```

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server action that triggers Supabase `resetPasswordForEmail` |
| `page.tsx` | Custom | Form for entering email to receive password reset link |

---

### `/app/change-password` - Password Update

```
app/change-password/
├── actions.ts              # Server action for password update
├── ChangePasswordForm.tsx  # Password change form component
└── page.tsx                # Change password page
```

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server action that updates user password via Supabase |
| `ChangePasswordForm.tsx` | Custom | Form with new password inputs, validation, and show/hide toggle |
| `page.tsx` | Custom | Page wrapper for password change functionality |

---

### `/app/guest` - Guest Portal

```
app/guest/
└── [token]/                    # Dynamic route for guest access
    ├── actions.ts              # Guest-specific server actions
    ├── GuestEvidenceList.tsx   # Display uploaded evidence
    ├── GuestUploadForm.tsx     # Evidence upload interface
    ├── page.tsx                # Guest portal main page
    └── pin-form.tsx            # PIN verification form
```

| File | Type | Purpose |
|------|------|---------|
| `[token]/` | (Dynamic Route) | Token-based access for guests to view/upload case evidence |
| `actions.ts` | Custom | Server actions for PIN verification, evidence upload, and guest session management |
| `GuestEvidenceList.tsx` | Custom | Displays list of evidence files uploaded by the guest with image previews |
| `GuestUploadForm.tsx` | Custom | Multi-file upload form with image compression, progress indicators, and file type validation |
| `page.tsx` | Custom | Main guest portal page with case information, evidence display, and upload capabilities |
| `pin-form.tsx` | Custom | PIN entry form for guest authentication before accessing case details |

---

### `/app/dashboard` - Main Application Dashboard

```
app/dashboard/
├── actions.ts          # Dashboard-level server actions
├── layout.tsx          # Dashboard layout with sidebar
├── loading.tsx         # Dashboard loading skeleton
├── page.tsx            # Main dashboard view
├── admin/              # Admin panel
├── cases/              # Case management
├── people/             # People/parties directory
└── settings/           # User & system settings
```

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server actions for dashboard data (stats, recent cases, calendar events) |
| `layout.tsx` | Custom | Dashboard shell with sidebar navigation and main content area |
| `loading.tsx` | Custom | Loading skeleton shown while dashboard data loads |
| `page.tsx` | Custom | Main dashboard with statistics grid, charts, calendar, and recent cases table |

---

### `/app/dashboard/admin` - Admin Panel

```
app/dashboard/admin/
├── actions.ts          # Admin server actions
├── AdminClient.tsx     # Admin panel client component
├── AuditLogsTable.tsx  # Audit log display table
├── loading.tsx         # Admin loading skeleton
├── page.tsx            # Admin page
├── RoleSelector.tsx    # User role dropdown
├── TableSkeleton.tsx   # Table loading placeholder
├── UserRow.tsx         # Individual user row component
└── UsersTable.tsx      # Users management table
```

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server actions for user management (create, update, delete, role changes) and audit log retrieval |
| `AdminClient.tsx` | Custom | Client-side admin panel with tabs for users/audit logs, search, and filters |
| `AuditLogsTable.tsx` | Custom | Displays system audit logs with action type, user, timestamp, and details |
| `loading.tsx` | Custom | Loading skeleton for admin panel |
| `page.tsx` | Custom | Main admin page that fetches users and audit logs data |
| `RoleSelector.tsx` | Custom | Dropdown component for selecting user roles (admin/staff) |
| `TableSkeleton.tsx` | Custom | Reusable table loading placeholder |
| `UserRow.tsx` | Custom | Row component with user info, role selector, and action buttons (edit, delete, reset password) |
| `UsersTable.tsx` | Custom | Table wrapper for displaying all system users |

---

### `/app/dashboard/cases` - Case Management

```
app/dashboard/cases/
├── actions.ts          # Case list server actions
├── loading.tsx         # Cases list loading skeleton
├── page.tsx            # Cases list page
├── workflow.ts         # Case workflow state machine
├── new/                # New case creation
│   ├── CreateCaseForm.tsx
│   ├── IncidentDetails.tsx
│   ├── NarrativeEditor.tsx
│   ├── PartyManager.tsx
│   └── page.tsx
└── [id]/               # Individual case view
    ├── actions.ts
    ├── CaseDetailsClient.tsx
    ├── page.tsx
    ├── edit/           # Case editing
    │   ├── DeleteCaseButton.tsx
    │   └── page.tsx
    └── print/          # Document printing
        ├── page.tsx
        └── [type]/
            └── page.tsx
```

#### Cases Root

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server actions for case listing, filtering, pagination, and bulk operations |
| `loading.tsx` | Custom | Loading skeleton for cases list |
| `page.tsx` | Custom | Cases list with search, filters, sorting, and pagination |
| `workflow.ts` | Custom | Case status state machine defining valid transitions (Pending → In Progress → Resolved/Dismissed) |

#### `/new` - New Case Creation

| File | Type | Purpose |
|------|------|---------|
| `CreateCaseForm.tsx` | Custom | Multi-step form wizard container managing form state and navigation |
| `IncidentDetails.tsx` | Custom | Form section for incident date, time, location, and type selection |
| `NarrativeEditor.tsx` | Custom | Rich text area for case narrative/description |
| `PartyManager.tsx` | Custom | Dynamic form for adding/removing complainants, respondents, and witnesses with their details |
| `page.tsx` | Custom | New case page wrapper |

#### `/[id]` - Case Details (Dynamic Route)

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server actions for case CRUD, status updates, evidence management, parties, hearings, notes, and guest link generation |
| `CaseDetailsClient.tsx` | Custom | Main case view component with tabs (Overview, Parties, Hearings, Evidence, Notes, Documents), real-time updates, and action buttons |
| `page.tsx` | Custom | Case details page that fetches case data and renders client component |

#### `/[id]/edit` - Case Editing

| File | Type | Purpose |
|------|------|---------|
| `DeleteCaseButton.tsx` | Custom | Delete button with confirmation modal |
| `page.tsx` | Custom | Case edit form pre-populated with existing data |

#### `/[id]/print` - Document Printing

| File | Type | Purpose |
|------|------|---------|
| `page.tsx` | Custom | Document type selection page |
| `[type]/page.tsx` | Custom | Renders specific document type (Summons, Referral, Notice, etc.) for printing/PDF generation |

---

### `/app/dashboard/people` - People Directory

```
app/dashboard/people/
├── loading.tsx         # People list loading skeleton
├── page.tsx            # People directory page
└── [name]/             # Individual person view
    └── page.tsx
```

| File | Type | Purpose |
|------|------|---------|
| `loading.tsx` | Custom | Loading skeleton for people directory |
| `page.tsx` | Custom | Searchable directory of all parties (complainants, respondents, witnesses) across cases |
| `[name]/page.tsx` | Custom | Individual person profile showing all cases they're involved in |

---

### `/app/dashboard/settings` - Settings

```
app/dashboard/settings/
├── actions.ts              # Settings server actions
├── loading.tsx             # Settings loading skeleton
├── page.tsx                # Settings page
├── ProfileForm.tsx         # User profile form
├── SecurityForm.tsx        # Password/security form
├── SettingsClient.tsx      # Settings tabs container
└── SystemSettingsForm.tsx  # System configuration form
```

| File | Type | Purpose |
|------|------|---------|
| `actions.ts` | Custom | Server actions for profile updates, password changes, and system settings |
| `loading.tsx` | Custom | Loading skeleton for settings page |
| `page.tsx` | Custom | Settings page wrapper fetching user data |
| `ProfileForm.tsx` | Custom | Form for updating user name and email |
| `SecurityForm.tsx` | Custom | Form for changing password with current password verification |
| `SettingsClient.tsx` | Custom | Tabbed interface for Profile, Security, and System settings |
| `SystemSettingsForm.tsx` | Custom | Admin-only form for barangay name, captain name, and system preferences |

---

## `/components` Directory

Reusable React components organized by feature and type.

```
components/
├── dashboard/              # Dashboard-specific components
├── documents/              # Document generation components
├── sidebar/                # Sidebar navigation components
├── ui/                     # Generic UI components
└── [standalone files]      # Feature-specific components
```

### Standalone Components

| File | Type | Purpose |
|------|------|---------|
| `ActionRequired.tsx` | Custom | Displays action items requiring user attention with priority indicators |
| `AnalyticsCharts.tsx` | Custom | Recharts-based charts for case statistics and trends |
| `CaseActionHeader.tsx` | Custom | Case detail page header with status badge, actions dropdown, and navigation |
| `CaseTimeline.tsx` | Custom | Visual timeline of case events, hearings, and status changes |
| `CopyButton.tsx` | Custom | Button that copies text to clipboard with visual feedback |
| `DashboardEvidenceList.tsx` | Custom | Evidence list for dashboard case view with thumbnails |
| `DashboardEvidenceUploadForm.tsx` | Custom | Evidence upload form for dashboard (staff/admin use) |
| `DashboardShell.tsx` | Custom | Dashboard page wrapper with consistent padding and styling |
| `DateRangePicker.tsx` | Custom | Date range selection component for filtering cases |
| `DocumentPreviewModal.tsx` | Custom | Modal for previewing generated documents before print/download |
| `ExportButton.tsx` | Custom | Button for exporting case data to CSV/Excel |
| `FilterDropdown.tsx` | Custom | Dropdown menu for applying case filters (status, type, date) |
| `FlowbiteInit.tsx` | Custom | Initializes Flowbite JavaScript for UI interactions |
| `ImageLightbox.tsx` | Custom | Full-screen image viewer for evidence photos |
| `Navbar.tsx` | Custom | Top navigation bar with user menu and notifications |
| `NotificationBell.tsx` | Custom | Notification indicator with dropdown list |
| `PaginationControls.tsx` | Custom | Page navigation with page size selector |
| `PasswordRequirements.tsx` | Custom | Visual indicator of password strength requirements |
| `PrintButton.tsx` | Custom | Initiates browser print dialog |
| `PrintableDocument.tsx` | Custom | Base layout for printable legal documents |
| `ProceedingsTracker.tsx` | Custom | Step-by-step tracker for case proceedings status |
| `RealtimeListener.tsx` | Custom | Supabase realtime subscription handler for live updates |
| `RealtimeNotifications.tsx` | Custom | Real-time notification toast display |
| `ResolutionBanner.tsx` | Custom | Banner displayed on resolved/dismissed cases |
| `SearchInput.tsx` | Custom | Debounced search input with icon |
| `Sidebar.tsx` | Custom | Main navigation sidebar with menu items |
| `SortableColumn.tsx` | Custom | Table column header with sort indicators |
| `StatusStepper.tsx` | Custom | Visual stepper showing case status progression |
| `SubmitButton.tsx` | Custom | Form submit button with loading state |
| `TermsModal.tsx` | Custom | Modal displaying terms and conditions for guest portal |
| `UploadLimitInfo.tsx` | Custom | Displays file upload limits and remaining quota |

---

### `/components/dashboard`

```
components/dashboard/
├── DashboardCalendar.tsx   # Calendar widget with hearing dates
├── DashboardCharts.tsx     # Statistics charts container
├── DashboardControls.tsx   # Dashboard filter controls
├── DashboardHeader.tsx     # Dashboard page header
├── RecentCasesTable.tsx    # Recent cases summary table
└── StatsGrid.tsx           # Statistics cards grid
```

| File | Type | Purpose |
|------|------|---------|
| `DashboardCalendar.tsx` | Custom | Interactive calendar showing scheduled hearings with date navigation |
| `DashboardCharts.tsx` | Custom | Container for analytics charts (case types, monthly trends) |
| `DashboardControls.tsx` | Custom | Date range and filter controls for dashboard |
| `DashboardHeader.tsx` | Custom | Dashboard welcome message and quick action buttons |
| `RecentCasesTable.tsx` | Custom | Table showing most recent cases with status and quick links |
| `StatsGrid.tsx` | Custom | Grid of statistic cards (total cases, pending, resolved, etc.) |

---

### `/components/documents`

```
components/documents/
├── forms/                  # Document form components
│   ├── AbstractForm.tsx
│   ├── AmicableSettlementForm.tsx
│   ├── CertificateToFileActionForm.tsx
│   ├── NoticeOfHearingForm.tsx
│   ├── ReferralForm.tsx
│   └── SummonsForm.tsx
├── DocumentFooter.tsx      # Document footer template
└── DocumentHeader.tsx      # Document header template
```

| File | Type | Purpose |
|------|------|---------|
| `DocumentFooter.tsx` | Custom | Standard footer for legal documents (signatures, dates) |
| `DocumentHeader.tsx` | Custom | Standard header for legal documents (barangay seal, letterhead) |
| `AbstractForm.tsx` | Custom | Form for generating Case Abstract document |
| `AmicableSettlementForm.tsx` | Custom | Form for Amicable Settlement Agreement document |
| `CertificateToFileActionForm.tsx` | Custom | Form for Certificate to File Action document |
| `NoticeOfHearingForm.tsx` | Custom | Form for Notice of Hearing document |
| `ReferralForm.tsx` | Custom | Form for Case Referral document |
| `SummonsForm.tsx` | Custom | Form for Summons document |

---

### `/components/sidebar`

```
components/sidebar/
├── SidebarGroup.tsx        # Collapsible sidebar section
└── SidebarItem.tsx         # Individual sidebar link item
```

| File | Type | Purpose |
|------|------|---------|
| `SidebarGroup.tsx` | Custom | Collapsible group of sidebar items with header |
| `SidebarItem.tsx` | Custom | Single navigation item with icon, label, and active state |

---

### `/components/ui`

```
components/ui/
├── AlertModal.tsx          # Alert/warning modal
├── BackButton.tsx          # Navigation back button
├── ConfirmDialog.tsx       # Confirmation dialog
├── ConfirmModal.tsx        # Confirmation modal variant
├── EmptyState.tsx          # Empty state placeholder
├── FormLoadingStates.tsx   # Form skeleton loaders
└── ImageModal.tsx          # Image viewer modal
```

| File | Type | Purpose |
|------|------|---------|
| `AlertModal.tsx` | Custom | Modal for displaying alerts, warnings, and informational messages |
| `BackButton.tsx` | Custom | Button that navigates to previous page |
| `ConfirmDialog.tsx` | Custom | Dialog for confirming destructive actions with customizable buttons |
| `ConfirmModal.tsx` | Custom | Alternative confirmation modal with different styling |
| `EmptyState.tsx` | Custom | Placeholder shown when lists/tables are empty with optional action |
| `FormLoadingStates.tsx` | Custom | Collection of skeleton loaders for different form types |
| `ImageModal.tsx` | Custom | Lightbox modal for viewing images at full size |

---

## `/lib` Directory

Core library utilities and third-party integrations.

```
lib/
├── imageCompression.ts     # Client-side image compression
└── supabase.ts             # Supabase client initialization
```

| File | Type | Purpose |
|------|------|---------|
| `imageCompression.ts` | Custom | Client-side image compression using canvas API to reduce upload sizes |
| `supabase.ts` | Custom | Creates and exports the Supabase client for database/auth operations |

---

## `/utils` Directory

Utility functions and helper modules.

```
utils/
├── action-helpers.ts       # Server action utilities
├── auth.ts                 # Authentication helpers
├── date-formatting.ts      # Date formatting utilities
├── dateRange.ts            # Date range calculations
├── mailersend.ts           # Email service integration
├── route-helpers.ts        # Route utility functions
├── validation.ts           # Input validation schemas
└── supabase/               # Supabase client variants
    ├── admin.ts            # Admin client (service role)
    ├── client.ts           # Browser client
    ├── middleware.ts       # Middleware client
    └── server.ts           # Server-side client
```

| File | Type | Purpose |
|------|------|---------|
| `action-helpers.ts` | Custom | Helper functions for server actions (error handling, response formatting) |
| `auth.ts` | Custom | Authentication utility functions (session checks, user role verification) |
| `date-formatting.ts` | Custom | Date formatting for display (relative time, Philippine format) |
| `dateRange.ts` | Custom | Date range calculations for analytics and filtering |
| `mailersend.ts` | Custom | MailerSend email service configuration and helpers |
| `route-helpers.ts` | Custom | URL construction and route parameter utilities |
| `validation.ts` | Custom | Zod validation schemas for form inputs and API data |

### `/utils/supabase`

| File | Type | Purpose |
|------|------|---------|
| `admin.ts` | Custom | Supabase admin client with service role key for elevated operations (user management) |
| `client.ts` | Custom | Browser-side Supabase client for client components |
| `middleware.ts` | Custom | Supabase client for Next.js middleware (session handling) |
| `server.ts` | Custom | Server-side Supabase client for server components and actions |

---

## `/types` Directory

TypeScript type definitions.

```
types/
└── index.ts                # All type definitions
```

| File | Type | Purpose |
|------|------|---------|
| `index.ts` | Custom | TypeScript interfaces and types for Case, Party, Evidence, User, Hearing, Note, AuditLog, and all related entities |

---

## `/hooks` Directory

Custom React hooks.

```
hooks/
├── index.ts                # Hook exports
└── useOptimized.ts         # Performance optimization hooks
```

| File | Type | Purpose |
|------|------|---------|
| `index.ts` | Custom | Re-exports all custom hooks for cleaner imports |
| `useOptimized.ts` | Custom | Performance hooks (`useStableCallback`, `usePrevious`, `useDebounce`) for preventing unnecessary re-renders |

---

## `/constants` Directory

Application-wide constants.

```
constants/
├── case-status.ts          # Case status definitions
├── config.ts               # Application configuration
└── terms-content.ts        # Terms and conditions text
```

| File | Type | Purpose |
|------|------|---------|
| `case-status.ts` | Custom | Case status enum and status-related utilities (colors, labels, transitions) |
| `config.ts` | Custom | Application configuration (app name, upload limits, pagination defaults) |
| `terms-content.ts` | Custom | Full terms and conditions text for guest portal acceptance |

---

## `/public` Directory

Static assets served directly by the web server.

```
public/
├── logo.png                # Application logo
├── file.svg                # File icon
├── globe.svg               # Globe icon
├── next.svg                # Next.js logo
├── vercel.svg              # Vercel logo
├── window.svg              # Window icon
└── README.md               # Symlink to root README
```

| File | Type | Purpose |
|------|------|---------|
| `logo.png` | Custom | Barangay/application logo used in header and documents |
| `file.svg` | Scaffold | Generic file icon (from Next.js template) |
| `globe.svg` | Scaffold | Globe icon (from Next.js template) |
| `next.svg` | Scaffold | Next.js logo (from Next.js template) |
| `vercel.svg` | Scaffold | Vercel logo (from Next.js template) |
| `window.svg` | Scaffold | Window icon (from Next.js template) |

---

## `/supabase` Directory

Database schema and seed data.

```
supabase/
├── README.md               # Supabase setup instructions
├── schema.sql              # Complete database schema
├── seed_data.sql           # Sample data for testing
└── user.sql                # User-related SQL functions
```

| File | Type | Purpose |
|------|------|---------|
| `README.md` | Custom | Instructions for setting up Supabase, running migrations, and configuring RLS |
| `schema.sql` | Custom | Full database schema including tables, RLS policies, triggers, and functions |
| `seed_data.sql` | Custom | Sample data for development/testing (users, cases, parties, hearings, evidence) |
| `user.sql` | Custom | SQL functions for user management (create admin, update roles) |

---

## `/docs` Directory

Project documentation.

```
docs/
├── 00_INDEX.md                 # Documentation index
├── 02_SCOPE_AND_LIMITATIONS.md # Scope document
├── 03_TECHNICAL_BACKGROUND.md  # Tech stack details
├── 04_DATA_FLOW.md             # Data flow diagram
├── 05_FLOWCHARTS.md            # Process flowcharts
├── 06_USE_CASE.md              # Use case diagram
├── 07_ARCHITECTURE.md          # System architecture
└── 08_CODEBASE_STRUCTURE.md    # This file
```

| File | Type | Purpose |
|------|------|---------|
| `00_INDEX.md` | Custom | Table of contents for all documentation |
| `02_SCOPE_AND_LIMITATIONS.md` | Custom | System scope, features, and limitations |
| `03_TECHNICAL_BACKGROUND.md` | Custom | Detailed technology stack breakdown |
| `04_DATA_FLOW.md` | Custom | Data flow diagrams with Mermaid |
| `05_FLOWCHARTS.md` | Custom | Process flowcharts for all user workflows |
| `06_USE_CASE.md` | Custom | UML use case diagram and descriptions |
| `07_ARCHITECTURE.md` | Custom | System architecture visualizations |
| `08_CODEBASE_STRUCTURE.md` | Custom | This document - codebase structure |

---

## Generated Directories (Do Not Edit)

| Directory | Generated By | Purpose |
|-----------|--------------|---------|
| `.next/` | Next.js | Build output directory containing compiled code, static assets, and cache |
| `node_modules/` | npm | All installed npm packages and their dependencies |
| `.git/` | Git | Version control data, commit history, and branch information |

---

## Dependencies Overview

### Production Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| `@supabase/ssr` | ^0.8.0 | Server-side Supabase client for Next.js |
| `@supabase/supabase-js` | ^2.86.0 | Core Supabase JavaScript client |
| `dotenv` | ^17.2.3 | Environment variable loading |
| `flowbite` | ^4.0.1 | UI component library (modals, dropdowns) |
| `lucide-react` | ^0.555.0 | Icon library |
| `mailersend` | ^2.6.0 | Email sending service |
| `next` | ^16.0.7 | React framework for production |
| `puppeteer` | ^24.32.0 | Headless Chrome for PDF generation |
| `rate-limiter-flexible` | ^9.0.0 | Rate limiting for API protection |
| `react` | ^19.2.1 | UI library |
| `react-dom` | ^19.2.1 | React DOM renderer |
| `recharts` | ^3.5.1 | Charting library for analytics |
| `sonner` | ^2.0.7 | Toast notifications |
| `use-debounce` | ^10.0.6 | Debounce hook for search inputs |
| `zod` | ^4.1.13 | Schema validation library |

### Development Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| `@tailwindcss/postcss` | ^4 | PostCSS plugin for Tailwind |
| `@types/node` | ^20 | Node.js TypeScript types |
| `@types/react` | ^19 | React TypeScript types |
| `@types/react-dom` | ^19 | React DOM TypeScript types |
| `eslint` | ^9 | Code linting |
| `eslint-config-next` | 16.0.7 | Next.js ESLint configuration |
| `tailwindcss` | ^4 | Utility-first CSS framework |
| `typescript` | ^5 | TypeScript compiler |

---

## File Naming Conventions

| Pattern | Use Case | Example |
|---------|----------|---------|
| `page.tsx` | Next.js route page component | `app/dashboard/page.tsx` |
| `layout.tsx` | Next.js layout wrapper | `app/dashboard/layout.tsx` |
| `loading.tsx` | Next.js loading state | `app/dashboard/loading.tsx` |
| `actions.ts` | Server actions for a route | `app/dashboard/cases/actions.ts` |
| `route.ts` | API route handler | `app/api/documents/download/route.ts` |
| `PascalCase.tsx` | React components | `CaseDetailsClient.tsx` |
| `kebab-case.ts` | Utility modules | `date-formatting.ts` |
| `[param]` | Dynamic route segment | `app/dashboard/cases/[id]/` |

---

> **Note**: Files marked as "Scaffold" were initially generated by `create-next-app` or similar tools but may have been customized. Files marked as "Generated" should not be manually edited as they are automatically regenerated.
